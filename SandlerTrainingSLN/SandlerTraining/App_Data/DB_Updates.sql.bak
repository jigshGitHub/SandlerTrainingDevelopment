USE [SandlerDB]
GO
ALTER TABLE [dbo].[TBL_CONTACTS]  DROP COLUMN [CreatedDate] ; 
GO
ALTER TABLE [dbo].[TBL_CONTACTS] DROP COLUMN [UpdatedDate];
GO
ALTER TABLE [dbo].[TBL_CONTACTS]  ADD [CreatedDate] DATETIME; 
GO
ALTER TABLE [dbo].[TBL_CONTACTS] ADD [UpdatedDate] DATETIME;
GO
ALTER TABLE [dbo].[TBL_CONTACTS] ADD CONSTRAINT [DF_TBL_CONTACTS_UpdatedDate]  DEFAULT (getdate()) FOR [UpdatedDate];
GO
ALTER TABLE [dbo].[TBL_CONTACTS] ADD CONSTRAINT [DF_TBL_CONTACTS_CreatedDate]  DEFAULT (getdate()) FOR [CreatedDate];
GO

ALTER TABLE [dbo].[TBL_CONTACTS]  WITH CHECK ADD  CONSTRAINT [FK_TBL_CONTACTS_Tbl_AppointmentsSource] FOREIGN KEY([ApptSourceId])
REFERENCES [dbo].[Tbl_AppointmentsSource] ([ApptSourceId])
GO
ALTER TABLE [dbo].[TBL_CONTACTS] CHECK CONSTRAINT [FK_TBL_CONTACTS_Tbl_AppointmentsSource]
GO

ALTER TABLE [dbo].[TBL_CONTACTS]  WITH CHECK ADD  CONSTRAINT [FK_TBL_CONTACTS_TBL_Companies] FOREIGN KEY([COMPANYID])
REFERENCES [dbo].[TBL_Companies] ([COMPANIESID])
GO
ALTER TABLE [dbo].[TBL_CONTACTS] CHECK CONSTRAINT [FK_TBL_CONTACTS_TBL_Companies]
GO

ALTER TABLE [dbo].[TBL_CONTACTS]  WITH CHECK ADD  CONSTRAINT [FK_TBL_CONTACTS_Tbl_Course] FOREIGN KEY([CourseId])
REFERENCES [dbo].[Tbl_Course] ([CourseId])
GO
ALTER TABLE [dbo].[TBL_CONTACTS] CHECK CONSTRAINT [FK_TBL_CONTACTS_Tbl_Course]
GO

ALTER
 TABLE [dbo].[TBL_COMPANIES] DROP COLUMN [CreatedDate] ; 
GO
 
ALTER
 TABLE [dbo].[TBL_COMPANIES] DROP COLUMN [UpdatedDate]; 
GO
 
ALTER
 TABLE [dbo].[TBL_COMPANIES] ADD [CreatedDate] DATETIME; 
GO
 
ALTER
 TABLE [dbo].[TBL_COMPANIES] ADD [UpdatedDate] DATETIME; 
GO

ALTER
 TABLE [dbo].[TBL_COMPANIES] WITH CHECK ADD CONSTRAINT [FK_TBL_COMPANIES_Tbl_IndustryType] FOREIGN KEY([IndustryId])
 REFERENCES
 [dbo].[Tbl_IndustryType] ([IndId]) 
GO
 
ALTER
 TABLE [dbo].[TBL_COMPANIES] CHECK CONSTRAINT [FK_TBL_COMPANIES_Tbl_IndustryType] 
GO

ALTER
 TABLE [dbo].[TBL_COMPANIES] WITH CHECK ADD CONSTRAINT [FK_TBL_COMPANIES_TBL_FRANCHISEE] FOREIGN KEY([FranchiseeId])
 REFERENCES
 [dbo].[TBL_FRANCHISEE] ([Id]) 
GO
 
ALTER
 TABLE [dbo].[TBL_COMPANIES] CHECK CONSTRAINT [FK_TBL_COMPANIES_TBL_FRANCHISEE] 
GO

ALTER
 TABLE [dbo].[TBL_COMPANIES] ADD CONSTRAINT [DF_TBL_COMPANIES_UpdatedDate] DEFAULT (getdate()) FOR [UpdatedDate];
 GO
 
ALTER
 TABLE [dbo].[TBL_COMPANIES] ADD CONSTRAINT [DF_TBL_COMPANIES_CreatedDate] DEFAULT (getdate()) FOR [CreatedDate];
 GO

ALTER
 TABLE [dbo].[TBL_DOCS] DROP COLUMN [CreatedDate] ; 
GO
 
ALTER
 TABLE [dbo].[TBL_DOCS] DROP COLUMN [UpdatedDate]; 
GO
 
ALTER
 TABLE [dbo].[TBL_DOCS] ADD [CreatedDate] DATETIME; 
GO
 
ALTER
 TABLE [dbo].[TBL_DOCS] ADD [UpdatedDate] DATETIME; 
GO
ALTER
 TABLE [dbo].[TBL_DOCS] WITH CHECK ADD CONSTRAINT [FK_TBL_DOCS_TBL_COMPANIES] FOREIGN KEY([CompanyId])
 REFERENCES
 [dbo].[TBL_COMPANIES] ([COMPANIESID]) 
GO
 
ALTER
 TABLE [dbo].[TBL_DOCS] CHECK CONSTRAINT [FK_TBL_DOCS_TBL_COMPANIES] 
GO

ALTER
 TABLE [dbo].[TBL_DOCS] WITH CHECK ADD CONSTRAINT [FK_TBL_DOCS_Tbl_DocumentStatus] FOREIGN KEY([DOCSTATUSID])
 REFERENCES
 [dbo].[Tbl_DocumentStatus] ([DocStatusId]) 
GO
 
ALTER
 TABLE [dbo].[TBL_DOCS] CHECK CONSTRAINT [FK_TBL_DOCS_Tbl_DocumentStatus] 
GO

ALTER
 TABLE [dbo].[TBL_DOCS] WITH CHECK ADD CONSTRAINT [FK_TBL_DOCS_TBL_OPPORTUNITIES] FOREIGN KEY([OPPSID])
 REFERENCES
 [dbo].[TBL_OPPORTUNITIES] ([Id]) 
GO
 
ALTER
 TABLE [dbo].[TBL_DOCS] CHECK CONSTRAINT [FK_TBL_DOCS_TBL_OPPORTUNITIES] 
GO
ALTER
 TABLE [dbo].[TBL_DOCS] ADD CONSTRAINT [DF_TBL_DOCS_UpdatedDate] DEFAULT (getdate()) FOR [UpdatedDate];
 GO
 
ALTER
 TABLE [dbo].[TBL_DOCS] ADD CONSTRAINT [DF_TBL_DOCS_CreatedDate] DEFAULT (getdate()) FOR [CreatedDate];
 GO
